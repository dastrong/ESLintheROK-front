import React from 'react';
import { useNProgress } from '@tanem/react-nprogress';

export default function LessonsGradesSVG({
  isSleeping = true,
}: {
  isSleeping?: boolean;
}) {
  const { progress, isFinished, animationDuration } = useNProgress({
    isAnimating: isSleeping,
    incrementDuration: 200,
  });

  return (
    <div className="lessons_grades_svg">
      <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 422 548">
        <path fill="#fff" d="M0 0h422v548H0z" />
        <g clip-path="url(#clip0)">
          {/* BIRDS  */}
          <path
            className="bird bird_1"
            xmlns="http://www.w3.org/2000/svg"
            d="M371.206 175.16L383.736 165.14C374.002 164.067 370.003 169.374 368.366 173.575C360.761 170.418 352.483 174.555 352.483 174.555L377.553 183.655C376.288 180.277 374.087 177.331 371.206 175.16Z"
            fill="#3F3D56"
          />
          <path
            className="bird bird_2"
            xmlns="http://www.w3.org/2000/svg"
            d="M29.494 20.1597L42.0241 10.1403C32.29 9.06664 28.2904 14.3741 26.6536 18.5751C19.0489 15.4181 10.7703 19.5555 10.7703 19.5555L35.8408 28.6548C34.576 25.2775 32.3744 22.3306 29.494 20.1597Z"
            fill="#3F3D56"
          />
          <path
            className="bird bird_3"
            xmlns="http://www.w3.org/2000/svg"
            d="M393.726 39.1597L406.256 29.1403C396.522 28.0666 392.523 33.3741 390.886 37.5751C383.281 34.4181 375.002 38.5555 375.002 38.5555L400.073 47.6548C398.808 44.2775 396.606 41.3306 393.726 39.1597Z"
            fill="#3F3D56"
          />

          <path
            d="M310.2 151.3a141.55 141.55 0 01-13.5 60.4l-.18.39a139.13 139.13 0 01-8.58 15.44 141.46 141.46 0 01-116.1 65.32l1.4 80.52 18.26-9.61 3.26 6.2-21.39 11.25L176 530.76l.02 2-14.12 1.18.03-.05 4.45-241.03A141.22 141.22 0 0163.84 246.6c-.04-.04-.06-.08-.1-.1a141.72 141.72 0 01-25.79-39.91l.42.45a141.58 141.58 0 0167.16-182.48l1.48-.72a141.79 141.79 0 01186.15 60.15 140.8 140.8 0 0117.04 67.32z"
            fill="#E5E5E5"
          />
          <path
            d="M205.93 534.27a42.17 42.17 0 10.01-84.34 42.17 42.17 0 000 84.34z"
            fill="#2F2E41"
          />
          <path d="M255.78 521.09H218v12.8h37.78v-12.8z" fill="#2F2E41" />
          <path
            d="M256.05 533.9c2.2 0 4-4.78 4-10.68 0-5.9-1.8-10.67-4-10.67-2.21 0-4 4.78-4 10.67 0 5.9 1.79 10.68 4 10.68zM246.97 520.1h-37.79v12.82h37.79V520.1z"
            fill="#2F2E41"
          />
          <path
            d="M247.23 532.92c2.22 0 4-4.78 4-10.68 0-5.9-1.78-10.67-4-10.67-2.2 0-4 4.78-4 10.67 0 5.9 1.8 10.68 4 10.68z"
            fill="#2F2E41"
          />
          <path
            d="M165.02 452.89c-3.4-15.25 7.48-30.66 24.31-34.41 16.84-3.76 33.25 5.55 36.65 20.8 3.4 15.25-7.75 20.87-24.58 24.63-16.84 3.76-32.97 4.23-36.38-11.02z"
            fill="#6C63FF"
          />
          <path
            d="M222.14 489.7a10.53 10.53 0 01-10.12-6.97.97.97 0 01.61-1.24.98.98 0 011.24.62c1.49 4.4 6.56 6.72 11.32 5.14a9.4 9.4 0 005.46-4.65 8.04 8.04 0 00.47-6.2.98.98 0 011.67-.96c.08.1.15.2.19.33a10 10 0 01-.58 7.7 11.38 11.38 0 01-6.6 5.64c-1.18.39-2.41.6-3.66.6zM239.5 506.59a4.55 4.55 0 11-8.11 4.15v-.01c-1.15-2.24.43-3.63 2.67-4.78 2.24-1.14 4.3-1.6 5.44.64z"
            fill="#fff"
          />

          <path
            d="M420.9 535H1.1c-.29 0-.57-.1-.78-.3A.95.95 0 010 534c0-.26.12-.52.32-.7.2-.2.49-.3.78-.3h419.8c.29 0 .57.1.78.3.2.18.32.44.32.7 0 .26-.12.52-.32.7-.2.2-.49.3-.78.3z"
            fill="#3F3D56"
          />
          <path
            xmlns="http://www.w3.org/2000/svg"
            d="M195.52 547.92c3.93-1 4.5-11.97 1.27-24.48s-9.03-21.83-12.96-20.82c-3.93 1.01-4.5 11.98-1.27 24.49 3.23 12.5 9.03 21.83 12.96 20.81z"
            fill="#2F2E41"
          />
          <path
            d="M195.52 547.92c3.93-1 4.5-11.97 1.27-24.48s-9.03-21.83-12.96-20.82c-3.93 1.01-4.5 11.98-1.27 24.49 3.23 12.5 9.03 21.83 12.96 20.81z"
            fill="#2F2E41"
          />

          {/* EYES AND MOUTH */}
          {!isSleeping && (
            <>
              <path
                d="M231 472c2.5 2.18 3 7.23 2 10-1 2.77-3.46 3.8-6.08 5a12.27 12.27 0 01-8.46.6 10.86 10.86 0 01-6.47-4.93v-.01c-.99-5.66-.49-8.16 4.98-11.98 6.3-2.88 9.78-2.4 14.03 1.32z"
                fill="#fff"
              />
              <path
                d="M230.5 480.999C231.881 480.999 233 479.88 233 478.499C233 477.119 231.881 476 230.5 476C229.119 476 228 477.119 228 478.499C228 479.88 229.119 480.999 230.5 480.999Z"
                fill="#2F2E41"
              />
            </>
          )}

          {/* QUESTION MARKS */}
          {isSleeping ? (
            <path
              d="M269.27 441.84h-16.04a.76.76 0 01-.7-.49.76.76 0 01.19-.83l14.6-13.21h-13.49a.76.76 0 010-1.52h15.44a.76.76 0 01.74.94.76.76 0 01-.23.38l-14.59 13.21h14.08a.76.76 0 010 1.52zM289.7 418.38h-16.04a.76.76 0 01-.74-.93.76.76 0 01.23-.38l14.6-13.22h-13.49a.75.75 0 01-.53-1.29.75.75 0 01.53-.22h15.45a.76.76 0 01.7.49.76.76 0 01-.2.83l-14.59 13.21h14.09a.76.76 0 010 1.51zM280.63 392.66h-16.05a.75.75 0 01-.7-.49.76.76 0 01.2-.83l14.58-13.21h-13.48a.76.76 0 010-1.51h15.45a.76.76 0 01.5 1.31l-14.59 13.22h14.09a.76.76 0 110 1.51z"
              fill="#CBCBCB"
            />
          ) : (
            <>
              <path
                d="M263 371.42s3.26-5.35 9.79-2.67c6.52 2.67 1.09 7.13 1.09 7.13s-4.36 2.67-4.36 4.45v6.24"
                stroke="#CBCBCB"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <circle cx="269.5" cy="389.36" r=".93" fill="#C4C4C4" />
              <path
                d="M276 401.42s3.26-5.35 9.79-2.67c6.52 2.67 1.09 7.13 1.09 7.13s-4.36 2.67-4.36 4.45v6.24"
                stroke="#CBCBCB"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <circle cx="282.5" cy="419.36" r=".93" fill="#C4C4C4" />
              <path
                d="M257 420.42s3.26-5.35 9.79-2.67c6.52 2.67 1.09 7.13 1.09 7.13s-4.36 2.67-4.36 4.45v6.24"
                stroke="#CBCBCB"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
              <circle cx="263.5" cy="438.36" r=".93" fill="#C4C4C4" />
            </>
          )}
        </g>
        <defs>
          <clipPath id="clip0">
            <path fill="#fff" d="M0 0h422v548H0z" />
          </clipPath>
        </defs>
      </svg>

      <div
        style={{
          // opacity: isFinished ? 0 : 1,
          pointerEvents: 'none',
          transition: `opacity ${animationDuration}ms linear`,
          position: 'fixed',
          width: '250px',
          overflow: 'hidden',
          marginTop: -11,
        }}
      >
        <div
          style={{
            background: '#e5e5e5',
            height: 8,
            left: 0,
            marginLeft: `${(-1 + progress) * 100}%`,
            top: -8,
            transition: `margin-left ${animationDuration}ms linear`,
            width: '100%',
            zIndex: 1031,
          }}
        >
          <div
            style={{
              boxShadow: '0 0 10px #e5e5e5, 0 0 5px #e5e5e5',
              display: 'block',
              height: '100%',
              opacity: 1,
              position: 'absolute',
              right: 0,
              transform: 'rotate(3deg) translate(0px, -4px)',
              width: 100,
            }}
          />
        </div>
      </div>

      <style jsx>{`
        svg {
          width: 250px;
        }

        .bird {
          /*  */
        }
      `}</style>
    </div>
  );
}
